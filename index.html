<!DOCTYPE html>
<html>
	<head>
		<meta charset=utf-8 />
		<meta name="viewport" content="width=device-width,initial-scale=1, user-scalable=no">
		<title>Fixed Fixed</title>
		<link href="docs.css" rel="stylesheet" />
		<script type="text/javascript" src="//code.jquery.com/jquery-1.6.js"></script>
		<script src="dist/fixedfixed.build.js"></script>
		<script type="text/javascript">

			//
			// addEventListener('load', function (e) {
			//   if (!document.body)
			//   {
			//     return;
			//   }
			//   var mydiv = document.createElement('div');
			//   mydiv.style.position = 'fixed';
			//   mydiv.style.bottom = '0px';
			//   mydiv.style.right = '0px';
			//   mydiv.style.border = '1px solid #000';
			//   mydiv.style.backgroundColor = '#fff';
			//   mydiv.style.color = '#000';
			//   mydiv.appendChild(document.createTextNode(document.compatMode))
			//   document.body.appendChild(mydiv);
			// }, false);

			(function(_global, _doc){
		    var _supports = false;
		    var _html = _doc.documentElement;
		    if(!(_global.operamini && ({}).toString.call(_global.operamini) === '[object OperaMini]')){
		        var _el1 = _doc.createElement('div');
		        _el1.style.cssText = 'top:0;height:10px;position:fixed;width:100%;';
		        if(_el1.style.position === 'fixed' && _el1.getBoundingClientRect){
		            var _body = _doc.body;
		            var _hasBody = !!_body;
		            if(!_hasBody){
		                _body = _doc.createElement('body');
		                _body.style.cssText = 'height:100%;width:100%;position:absolute;'
		                _html.appendChild(_body);
		            }
		                        var _el2 = _el1.cloneNode();
		            _el2.style.top = '100%';
		            _el2.style.position = 'absolute';
		            _el2.appendChild(_el1);
		            _body.appendChild(_el2);            var _container = (++_body.scrollTop === _body.scrollTop && _body) || (++_html.scrollTop === _html.scrollTop && _html);
		            _supports = (_container.scrollTop > 0 && _el1.getBoundingClientRect().top === 0)
		            _body.removeChild(_el2);
		            _container.scrollTop -= _container.scrollTop;
		            if(!_hasBody){
		                _html.removeChild(_body);
		            }
		        }
		    }
		    _html.className += ' ua-' + (_supports ? '' : 'no-') + 'fixed';
		})(window, document);
		</script>
	</head>
	<body class="docs">
		<div id="fixed">
		    <div id="container">
		        <button id="btn">I'm a button</button>
		        <br>
		        <hr>

		    </div>
		</div>
		<p>test</p>
		<p>test</p>
		<p>test</p>
		<p>test</p>
		<p>test</p>
		<p>test</p>
		<p>test</p>
		<p>test</p>
		<p>test</p>
		<p>test</p>
		<p>test</p>
		<p>test</p>
		<p>test</p>
		<p>test</p>
		<p>test</p>
		<p>test</p>
		<p>test</p>
		<p>test</p>
		<p>test</p>
		<p>test</p>
		<p>test</p>
		<p>test</p>
		<p>test</p>
		<p>test</p>
		<p>test</p>
		<p>test</p>
		<p>test</p>
		<p>test</p>
		<p>test</p>
		<p>test</p>
		<p>test</p>
		<p>test</p>
		<p>test</p>
		<p>test</p>
		<p>test</p>
		<p>test</p>
		<p>test</p>
		<p>test</p>
		<p>test</p>
		<p>test</p>
		<p>test</p>
		<p>test</p>
		<p>test</p>
		<p>test</p>
		<p>test</p>

	</body>
</html>
