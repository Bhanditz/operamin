<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title>Test Opera Click</title>
	<script  type="text/javascript" src="//code.jquery.com/jquery-latest.min.js" ></script>
	<script type="text/javascript">
	function sendAjax() {
		var testData = {
			"AccountId": "D9D1102E-0133-4720-B158-B19947BF2AC9",
			"PromotionGuid": "B15CAAE4-E8D7-4731-9792-D9DEB0411F80",
			"BrandCode": "RV"
		};

		$.ajax({
			type: "POST",
			url: "http://api.promotions.com.dev.labenv/api/Promotion/GetAvailablePromotionIteration?brandcode=RV&culturecode=en-us",
			data: testData,
			dataType: "json",
			success: function(data){
				alert('success');
			},
			error: function (data) {
				alert('error');
			},
			cache: false,
			async: true
		});

		return false;
	}

	window.opera.addEventListener('BeforeEvent.click', function (e)
	{
		//check that it is the page loading, not just an ima
		e.preventDefault();
		alert('All click');
	}, false);

	</script>
</head>
<body>
	<button type="button" onclick="sendAjax()">Click again</button>
</body>
</html>
